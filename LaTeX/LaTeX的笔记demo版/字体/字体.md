字体的性质分为**五点**
1.  [[字号]] (font size)
2. [[字体族]] (font family)
3. [[字体形状]] (font shape)
4. [[字体系列]] (font series)
5. [[字体编码]] (font encoding)
6. 字体规范（fontspec）

LaTeX提供了带参数的命令和字体声明两类修改字体的命令
前者用于少量的字体更换，后者用于分组或环境中字体的整体替换。

# 过时的修改方式

原始的修改可以采用这样的方式（记住这是原始的修改方式，不是现代的，应该是不会用到的）
```latex
\fontencoding{}
\fontfamily{}
\fontseries{}
\fontshape{}
\fontsize{大小}{基本行距}
\selectfont%加上这个命令使前面的命令生效
```
也可以一次性选择某个字体
```latex
\usefont{编码}{族}{系列}{形状}
```

或者干脆有些宏包就是直接使用宏包就可以使用它的字体，这里点名表扬一下txfont宏包。

关于字体选择的最大问题，往往是不知道有哪些字体可以使用，因此必须查看字体安装目录或者综述性的文字文档

（以后有时间了可以看看***Hartke***的文档，但是鉴于我是懒狗，我可能更加偏向于直接看看优秀文档的源代码是使用的是什么字体，然后直接记录下来，而不是去把所有字体自己统统过一遍）

# 现代的修改方式

现代的方法是直接使用XELATEX的引擎来选择字体，主要使用fontspec宏包的机制来调用字体。最基本的是设置正文的罗马字体族、无衬线字体族、打字机字体族。
```latex
\setmainfont[]{}
\setsansfont[]{}
\setmonofont[]{}
\newfontfamily\suibianshenmedouhaola[]{}
%可选参数可见fontspec文档的Robertson and Hosny
```
此时的`\rmfamily \sffamily \ttfamily`就会分别对应这设置的三种字体，而且会自动找到对应的粗体斜体等变体，尽量使`\bfseries \itshape`等命令也有效。

也可以定义一个新的字体族命令`\newfontfamily`
例如`\newfontfamily\lucidasans{Lucida Sans}`在正文就可以`{\lucidasans}`

XELATEX下中文字体设置使用的是xeCJK宏包（ctex类文档和宏包会自动调用）[^1]，它提供了与fontspec相对应的中文字体设置命令：
```latex
\setCJKmainffont[BoldFont=SimHei,ItalicFont=KaiTi,BoldItalicFont=LiSu]{SimSun}%这个用来改正文字体很好用哦(正文宋体，粗体黑体，斜体楷体，粗斜体隶书)
\setCJKsansfont{}%用这个之后就可以直接用无衬线字体了
\setCJKmonofont{}%同理这个也可以使用打字机字体族了
\setCJKfamilyfont{中文字体族}{字体名}%其实也就是自定义了，更多字体模组
```
例如：
```latex
% 在导言区设置全文字体为“文鼎PL报宋二GBK”
% 并设置中文的kai字体族为“文鼎PL简中楷”
\setCJKmainfont{AR PLBaosong2GBK Light}
\setCJKfamily{kai}{AR PL KaitiM GB}
```
***
# 怎么快乐地找自己喜欢的字体

fontspec宏包能使用的字体是fontconfig库里能找到的字体，通常是OpenType和TrueType的字体，包含少量的PostScript格式的字体。想知道我们能用什么字体，我们可在命令行输入fc-list，然后再输入fontlist.txt导出文件。
![[Pasted image 20231129165244.png]]
然后你就会看到这个令人厌恶的、巨量的字母群。所以就有必要讲讲怎么阅读。

fc-list列出的是字体名（对应于字体族）和同族字体的变体（对应LaTeX的字体系列和形状），冒号前面是字体族的名称，style=后面是字体的变体，用逗号隔开的是同一个字体在不同语言下的名称。通常fontspec宏包会自己处理好变体，因此只需要知道前面的字体名称（也就是冒号前面的）就好了。

想更加方便地筛选的话，就输入`fc-list -f "%{family}\n" :lang=zh`
这样就只筛选出含中文字体族，也可以把`:lang=zh`换成`:outline`则可以只显示矢量字体[^2]，如果什么都不加的话就只显示字体族。
`fc-list -f "%{family}\n" :lang=zh > zhfont.txt`先输入这个生成文件，再输入`zhfont.txt`打开文件，这么做主要是因为，我的电脑打开时乱码了，所以先给到一个记事本里再打开的话，就可以避免这个问题的影响。

# 细节上的一些小问题
## 西文文档中fontspec与数学字体包的冲突

fontspec主要用于设置正文字体，一般不用于设置数学字体，不过`\mathrm{}`会和正文环境的字体一样，这样的话，fontspec就会影响到数学字体，不过，fontspec的`\setmathrm` `\setmathsf` `\setmathtt`它们的用法和前面的`\setmainfont`等如出一辙。此外fontspec宏包的**no-math选项**可以禁用其对数学字体的所有影响（甚至包括了`\setmathrm` 这类）在加载别的数学字体包时，这个选项都会自动生效，对于不会自动生效的包，我们需要自己加上这个选项（最好自己都加上）。

为了使用正确的字体编码，fontspec应该放在数学字体包后面（由于需要让数学包自动生效），此时fontspec总是会让数学字体包的正文字体废掉，所以我们要使用fontspec的方式，再另行搭配别的正文字体。
```latex
\usepackage{ccfonts}%公式中使用Concrete系列字体,\mathrm等也会使用这个字体包
\usepackage[no-math]{fontspec}
\setmainfont{Latin Modern Mono Prop}%正文字体就会变成这个字体
```

## 中文文档的新冲突问题

这些问题和前面的西文文档一样，只是会稍微复杂一点，在使用ctex文档类时，如果需要的话，就把no-math选项传递给文档类那里加载（因为宏包的加载顺序机制问题，最好是这么做）由于个别字体包会改变字体编码，此时可能需要在数学字体包后以编码EU1方式为最后一个选项加载fontenc宏包（这里我也不知道为什么要用EU1的编码而不是使用UTF-8）

例子：（不推荐使用这些字体，不好看，只是做一个例子）
```latex
\documentclass[no-math]{ctexart}
\usepackage[utopia]{mathdesign}
\usepackage[EU1]{fontenc}
\setmainfont{Latin Modern Mono Prop}
```

# 常用代码（思考使我迟钝）
```latex
%好看的英文字体
\setmainfont{LinLibertine_R.otf}[BoldFont= LinLibertine_RZ.otf,ItalicFont=LinLibertine_RI.otf,  BoldItalicFont=LinLibertine_RZI.otf]
```

```latex
%令人遗憾的是目前没找到合适的中文字体，学校都有相关固定的要求。
%而且好看的中文字体大多都是商用的，只能个人使用的话，倒不如不用。
```


[^1]: 其实就是ctex文档会自动调用ctex宏包，所以，我有预感，我某一天会换成别的文档，然后忘掉这回事，没引用这个宏包

[^2]: 矢量字体，又称为Outline font，即轮廓字体，是指通过数学曲线来描述字形的字体。这种字体包含了字形边界上的关键点，连线的导数信息等，字体的渲染引擎通过读取这些数学矢量，然后进行一定的数学运算来进行渲染。这类字体的优点是字体实际尺寸可以任意缩放而不变形、变色。
