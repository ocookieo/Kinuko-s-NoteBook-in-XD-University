	毫无疑问的是，建议使用其它的辅助工具，而不是自己敲代码，这里推荐使用这个画交换图表。
  [quiver: a modern commutative diagram editor](https://q.uiver.app/)

XY-pic是有二十年历史的老东西，在很多方面已经被其他一些绘图语言所代替，但是它还是值得我们学习并使用的，特别是用于绘制数学交换图表时。

```latex
\usepackage[all，pdf]{xy}
```


在矩阵中用`\ar`命令代表箭头，命令后面是指向的相对方向，方向可以使用u、d、l、r（上下左右）以及它们的组合（比如dr、drrr之类的），也可以使用双引号表示矩阵的绝对坐标。
使用示例，每一行有一种方法：
```latex
\xymatrix{
	a & b\ar[rd] & a+b\\
	1 & 2 & 3\ar"1,1"
	\ar"1,1";"2,2"
}
```
![[Pasted image 20231127221701.png]]

以向右的箭头为准，上标、下标分别对应的是在箭头的上下带上标签，也可以使用 **|** 来打断箭头，在中间加上标签。（好像只能对相对位置标上？猜想错误）

```
\[
	\xymatrix{
		A\ar[r]^{\alpha} & B\\
		C\ar"1,2"|{\Sigma} & D\ar[u]^{\beta}		
	}
\]
```
![[Pasted image 20231128084437.png]]
使用`\hole`表示一个空洞，一般与|联合使用`|\hole`表示有间断的连线，搞出交叉连线的效果，
```
\[
	\xymatrix{
		A\ar"2,2"|\hole & B\\
		C\ar"1,2" & D\\		
	}
\]
```
![[Pasted image 20231128084904.png]]

可以用<和>修饰连线的标签，把标签放在连线的起点或终点位置；修饰符<<和>>则分别表示靠近起点和终点的位置；还可以使用（因子）直接指定标签在连线上的位置，其中因子可以取0到1之间的数字。
```
\[
	\xymatrix{
		A\ar[r]^>{a} & B\\
		C\ar[r]^>>{b} & D\\	
		E\ar[r]^(0.6){c} &F\\ 	
	}
\]
```
![[Pasted image 20231128093725.png]]


XY-pic还支持使用！{甲；乙}的语法表示甲乙两个方向连线的交点。
```
\[
	\xymatrix{
		A\ar"2,3"|!{"1,2";"2,1"}\hole & B & \\
		C\ar[ur] &   & D\\
	}
\]
%代码不具有唯一性，[]和" "都是可以的，只是一个相对和绝对的问题，比如对于A的坐标是1，1，
%那么要表示D的坐标可以用[drr/rdr/rrd]三种中的一种，或者，"2,3"都是等价的
%我个人认为的是相对坐标会被机器自动转换成我们想要的绝对坐标，大差不差啦。
```
![[Pasted image 20231128094926.png]]

另外，`\xymatrix`生成的图形可以放在任意环境中，通常会放在显示公式的环境里，与普通的公式一样。

为了让编号（如果你真的想要的话）居中排放，可以使用我们之前搞公式块的数学环境再套一层环境，也就是说有两层数学环境（equation和gathered就很好搭配）。
***
插入一个小知识点:(可以不看)
在LaTeX的xy-package中，`\xymatrix`命令用于生成矩阵，而`@`在这里是一个调整参数，用来改变矩阵中元素的对齐方式。

`@`后面的数字越大，矩阵中元素的对齐方式就越偏左。例如，`\xymatrix@2{a & b}`会使元素"a"和"b"稍微偏左对齐。

如果`@`后面是负数，那么对齐方式就会偏右。例如，`\xymatrix@-1{a & b}`会使元素"a"和"b"稍微偏右对齐。

通常情况下，`@`后面会省略数字，这样LaTeX就会自动选择一个合适的对齐方式。
***
把矩阵放在正文环境中的话，需要先把它放在行间数学环境中，保证正确的基线位置，对于单行矩阵，应写作`\xymatrix@1{}`缩小矩阵元素的间距。

在箭头命令`\ar`后面加上@开头的字样可以选择连线和箭头的样式；默认为`\ar@{->}`，其实还是很直观的一个描述，毕竟，看看就能猜出来这是什么样子的连线和箭头。中间的连线可以是直线、虚线、双线、波浪线、点线。箭头可以是尖角、圆角、平角等样式。或者干脆什么都没有。

除了直接连线，XY-pic也可以画出弯曲的箭头连线，语法是`\ar@/曲线说明/`，基本的用法就是`\ar@/^/`和`\ar@/_/`表示以上箭头为基准，分别代表着向左和向右弯曲。

更加复杂的曲线则可以使用`@(出,入)`指定曲线发出和射入的方向，例如画一个自闭环。
```
\[
	\xymatrix{
		A\ar[r] & B\ar@(ur,dr)\\
	}
\]
```
![[013bbc5cf1206ebe3efa54f0a63d64f.png]]

这时，就会有疑惑，woc，怎么这么多参数挤在这个箭头命令这里啊，那顺序是什么呢，好问题，`\ar@/^/[r]^{}`应该是，先指定连线和箭头的标准，然后指定箭头指向的坐标，最后再指定箭头上的标签内容。

画双箭头的命令是，使用`\ar@<偏移量>`画出向一侧平移的箭头（只是适合画双箭头，也不是说只能用来画双箭头）。
```
\[
	\xymatrix{
		A\ar@<2pt>[r]^f & B\ar@<2pt>[l]^g\\
	}
\]
```
![[Pasted image 20231128104716.png]]

后面愈加麻烦了，感觉再搞就没必要了，前面的区域以后再来探索吧。

## 综合应用
```
\[
	\xymatrix{
		A'\ar[rr]\ar[rd] &  & B'\ar[rd]\ar[dd]|!{[rd];[ld]}\hole &\\
		& A\ar[rr] &  & B\ar[dd]\\
		C'\ar[rd]\ar[uu]&  & D'\ar[rd]\ar[ll]|!{[lu];[ld]}\hole &\\
		& C\ar[uu] &  &D\ar[ll]\\
	}
\]
```
![[Pasted image 20231128110945.png]]